<Window x:Class="ImageDrawerUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        x:Name="Window"
        Title="RidgeDrawer" Height="600" Width="1000" MinWidth="400" MinHeight="400" KeyDown="Window_KeyDown">
    <Window.Resources>
        <ResourceDictionary>
            <Style TargetType="{x:Type Button}">
                <Setter Property="Width" Value="100" />
                <Setter Property="Height" Value="20" />
                <Setter Property="HorizontalAlignment" Value="Center" />
                <Setter Property="VerticalAlignment" Value="Top" />
            </Style>
            <Style TargetType="{x:Type TextBox}">
                <Setter Property="Width" Value="100" />
                <Setter Property="Height" Value="20" />
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="VerticalAlignment" Value="Top" />
                <Setter Property="TextWrapping" Value="Wrap" />
            </Style>
            <Style TargetType="{x:Type ComboBox}">
                <Setter Property="Width" Value="100" />
                <Setter Property="Height" Value="20" />
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="VerticalAlignment" Value="Top" />
            </Style>
            <Style TargetType="{x:Type Label}">
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="VerticalAlignment" Value="Top" />
            </Style>
            <Style TargetType="{x:Type Button}" x:Key="FullsizeButtonStyle">
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Opacity" Value="1"/>
                        <Setter Property="Cursor" Value="Arrow"/>
                    </Trigger>
                    <Trigger Property="IsMouseOver" Value="False">
                        <Setter Property="Opacity" Value="0.5"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0" MinWidth="200" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Panel.ZIndex="1" Background="White">

            <!--#region Buttons-->

            <Button Content="Open image (O)" Margin="0,20,0,0" Click="Open_Click"/>
            <Button Content="Compare (C)" Margin="0,60,0,0" Click="Compare_Click"/>
            <Button Content="Save (S)" Margin="0,100,0,0" Click="Save_Click"/>

            <!--#endregion-->

            <!--#region Text boxes-->

            <Label Content="LinesCount" Margin="10,136,0,0" />
            <TextBox x:Name="LinesCount" PreviewTextInput="PositiveNumberValidation"
                     TabIndex="0" Margin="84,140,0,0" KeyDown="ParamChange_KeyDown"/>

            <Label Content="Stroke" Margin="10,166,0,0"/>
            <TextBox x:Name="Stroke" PreviewTextInput="PositiveNumberValidation" 
                     TabIndex="1" Margin="84,170,0,0" KeyDown="ParamChange_KeyDown"/>

            <Label Content="Factor" Margin="10,196,0,0" />
            <TextBox x:Name="Factor" PreviewTextInput="PositiveNumberValidation"
                     TabIndex="2" Margin="84,200,0,0" KeyDown="ParamChange_KeyDown"/>

            <Label Content="ChunkSize" Margin="10,226,0,0" />
            <TextBox x:Name="ChunkSize" PreviewTextInput="PositiveNumberValidation"
                     TabIndex="3" Margin="84,230,0,0" KeyDown="ParamChange_KeyDown"/>

            <Label Content="Angle" Margin="10,256,0,0" />
            <TextBox x:Name="Angle" PreviewTextInput="AngleValidation"
                     TabIndex="4" Margin="84,260,0,0" KeyDown="ParamChange_KeyDown"/>

            <!--#endregion-->

            <!--#region Combo boxes-->

            <Label Content="Smoothing" Margin="10,306,0,0" />
            <ComboBox x:Name="Smoothing" Margin="84,310,0,0"
                      TabIndex="5" SelectionChanged="ComboBox_SelectionChanged" />

            <Label Content="LineType"  Margin="10,336,0,0" />
            <ComboBox x:Name="LineType" Margin="84,340,0,0"
                      TabIndex="6" SelectionChanged="ComboBox_SelectionChanged"/>

            <Label Content="Method" Margin="10,366,0,0"/>
            <ComboBox x:Name="Method" Margin="84,370,0,0"
                      TabIndex="7" SelectionChanged="ComboBox_SelectionChanged"/>

            <Label Content="Backend" Margin="10,396,0,0"/>
            <ComboBox x:Name="Backend" Margin="84,400,0,0"
                      TabIndex="8" SelectionChanged="ComboBox_SelectionChanged"/>

            <!--#endregion-->

        </Grid>
        <Grid Name="ImageGrid" SnapsToDevicePixels="True" UseLayoutRounding="True" Grid.Column="1"
          MouseWheel="image_MouseWheel"  MouseMove="image_MouseMove" 
          MouseLeftButtonDown="image_MouseLeftButtonDown" MouseLeftButtonUp="image_MouseLeftButtonUp"
          Loaded="ImageGrid_Loaded" SizeChanged="ImageGrid_SizeChanged">
            <Button x:Name="FullsizeButton" Content="Fullsize (0/F)" Style="{StaticResource FullsizeButtonStyle}" 
                    HorizontalAlignment="Left" Margin="5,5,0,0" VerticalAlignment="Top" 
                    Panel.ZIndex="2" Width="70" Height="20" Click="FullsizeButton_Click"/>
            <Image x:Name="image" Stretch="None" Panel.ZIndex="1"/>
            <Rectangle Fill="Gray"/>
        </Grid>
    </Grid>
</Window>
